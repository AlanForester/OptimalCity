# language: ru
Функция: API погоды
  Как пользователь
  Я хочу получать данные о погоде через API
  Чтобы отображать их в веб-интерфейсе

  Сценарий: Получение данных о погоде для Москвы
    Дано в базе данных есть записи о погоде для "Москва"
    Когда я отправляю GET запрос на "/api/v1/weather" с параметрами:
      | timezone | Europe/Moscow |
    Тогда ответ должен содержать статус 200
    И JSON ответ должен содержать:
      | success | true |
      | timezone | Europe/Moscow |
    И в данных должна быть информация о "Москва"

  Сценарий: Получение данных о погоде для Санкт-Петербурга
    Дано в базе данных есть записи о погоде для "Санкт-Петербург"
    Когда я отправляю GET запрос на "/api/v1/weather" с параметрами:
      | timezone | Europe/Moscow |
    Тогда ответ должен содержать статус 200
    И в данных должна быть информация о "Санкт-Петербург"

  Сценарий: Работа с UTC таймзоной
    Дано в базе данных есть записи о погоде для "Москва"
    Когда я отправляю GET запрос на "/api/v1/weather" с параметрами:
      | timezone | UTC |
    Тогда ответ должен содержать статус 200
    И JSON ответ должен содержать:
      | timezone | UTC |

  Сценарий: Работа с американской таймзоной
    Дано в базе данных есть записи о погоде для "Москва"
    Когда я отправляю GET запрос на "/api/v1/weather" с параметрами:
      | timezone | America/New_York |
    Тогда ответ должен содержать статус 200
    И JSON ответ должен содержать:
      | timezone | America/New_York |

  Сценарий: Отсутствие данных
    Дано в базе данных нет записей о погоде
    Когда я отправляю GET запрос на "/api/v1/weather" с параметрами:
      | timezone | Europe/Moscow |
    Тогда ответ должен содержать статус 200
    И данные для "Москва" должны быть пустым массивом
    И данные для "Санкт-Петербург" должны быть пустым массивом

  Сценарий: Некорректная таймзона
    Дано в базе данных есть записи о погоде для "Москва"
    Когда я отправляю GET запрос на "/api/v1/weather" с параметрами:
      | timezone | Invalid/Timezone |
    Тогда ответ должен содержать статус 200
    И JSON ответ должен содержать:
      | timezone | Invalid/Timezone |
